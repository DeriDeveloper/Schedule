@page "/"
@using WebApp.Services;


@inject IJSRuntime JSRuntime
@inject NavigationManager NavigationManager


<PageTitle>Расписание</PageTitle>

<!--<h1>Hello, world!</h1>

Welcome to your new app.

<SurveyPrompt Title="How is Blazor working for you?" />-->


<a href=""></a>

@code{
    private CookieHelperService _cookieHelperService;
    private AccountService _accountService;

    private string tokenAccess { get; set; }



    [CascadingParameter]
    public MainLayout Layout { get; set; }

    protected override async void OnInitialized()
    {
        _cookieHelperService = new CookieHelperService(JSRuntime);
        _accountService = new AccountService(JSRuntime);
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            ((MainLayout)Layout).ShowLoadingScreen();

            tokenAccess = await _cookieHelperService.GetTokenAccessAsync();



            ((MainLayout)Layout).HideLoadingScreen();
        }
    }

}
